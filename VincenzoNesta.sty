\ProvidesPackage{VincenzoNesta}

\RequirePackage{metalogo}

% moderncv themes (only classic work in TexLive 2016, other are casual (where are personal info?)
%(fancy, banking and oldstyle not working for me!))
\moderncvtheme[orange]{classic}
% optional argument are 'blue' (default), 'orange', 'red', 'green', 'grey' and 'roman' (for roman fonts, instead of sans serif fonts)

%use fontawesome icons for social section of moderncv
\moderncvicons{awesome}

%customize moderncv icons
%\renewcommand*{\addresssymbol}       {}
\renewcommand*{\mobilephonesymbol}   {\faPhoneSquare~~} % alternative: \faMobilePhone
%\renewcommand*{\fixedphonesymbol}    {\faPhone~~}
%\renewcommand*{\faxphonesymbol}      {\faPrint~~}              % alternative: \faFileAlt
\renewcommand*{\emailsymbol}         {\faEnvelopeSquare~~}           % alternative: \faInbox
%\renewcommand*{\homepagesymbol}      {\faGlobe~~}              % alternative: \faHome
\renewcommand*{\linkedinsocialsymbol}{\faLinkedinSquare~~}       % alternative: \faLinkedin
\renewcommand*{\twittersocialsymbol} {\faTwitterSquare~~}		% alternative: \faTwitter
\renewcommand*{\githubsocialsymbol}  {\faGithubSquare~~}

% character encoding (ther's a problem with fonts with this enabled!! maybe is loaded from xelatex by default? )
%\usepackage[T1]{fontenc}

%colors
\RequirePackage{xcolor}
\definecolor{customblu}{HTML}{2874B2}

%fonts
%\usepackage{MnSymbol}
%fontawesome icons definition
\usepackage{fontawesome}
\newfontfamily{\FA}{FontAwesome}
\def\twitter{{\FA \faTwitter}}
\def\telegram{{\FA \faPaperPlaneO}}
\def\linkedin{{\FA \faLinkedinSquare}}
\def\mailto{{\FA \faEnvelopeSquare}}
\def\github{{\FA \faGithubSquare}}

% adjust the page margins (maybe 0.8 is better for fonts?)
%\usepackage[scale=0.75, top=1cm, left=2cm, right=2cm, bottom=1.25cm]{geometry}
\usepackage[scale=0.75, top=1cm, left=1.8cm, right=1.8cm, bottom=1cm]{geometry}
\recomputelengths                             % required when changes are made to page layout lengths

\usepackage{ifxetex,ifluatex}
\newif\ifxetexorluatex
\ifxetex
  \xetexorluatextrue
\else
  \ifluatex
    \xetexorluatextrue
  \else
    \xetexorluatexfalse
  \fi
\fi

\ifxetexorluatex
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}
%\newfontfamily{\githubfont}{Octicons}
%\newfontfamily{\linkedinfont}{Myriad Pro}
%\else
%\newcommand\githubfont{}
%\newcommand\linkedinfont{}
\fi

\usepackage{microtype}

% Dummy text
%\usepackage{lipsum}

% personal data
\firstname{Vincenzo}
\familyname{NESTA}
\email{vincenzo.nesta@gmail.com}
\mobile{+39 (0) 349 8020903}
\address{via del Porto, 35 - 50053 Empoli (FI)}
%\phone{0571 18 32 313}
%\fax{fax (optional)}                          % optional, remove the line if not wanted
%\homepage{www.vinnes.info}
%uncomment following line if photo is needed!
\photo[60pt]{img/Foto_profilo2}
%\social[linkedin]{vinnes}
%\social[github]{vinnes}
%\social[twitter]{@vinnes}


\AtBeginDocument{\renewcommand{\labelitemi}{-- }

\hypersetup{
	colorlinks=true,
    	urlcolor=customblu,
    	pdfinfo={
		Title={Curriculum vit\ae},
		Author={Vincenzo Nesta},
		Subject={Curriculum di Vincenzo Nesta},
		Keywords={curriculum, lavoro, Vincenzo Nesta, resum√®, job, work},
		Producer={TeXworks v0.6.2}
		},
	bookmarksnumbered=true,
	bookmarksopen=true,
	bookmarksopenlevel=1,
	pdfstartview=Fit,
	pdfpagemode=UseOutlines,
	pdfpagelayout=TwoPageRight
	}
}

%use package moderntimeline and setup date intervals
\usepackage[firstyear=1992,lastyear=2022]{moderntimeline}
\tlmaxdates{1992}{2022}
\tlwidth{0.8ex}


% Proper alignment
\usepackage[originalcommands]{ragged2e}
\renewcommand*{\cvcomputer}[4]{%
  \cvdoubleitem{#1}{\small\raggedright#2}{#3}{\small\raggedright#4}}

% Not all fonts have an sl shape
\renewcommand*{\cventry}[6]{%
  \cvline{#1}{%
    {\bfseries#2}%
    \ifx#3\else{, {\itshape#3}}\fi%
    \ifx#4\else{, #4}\fi%
    \ifx#5\else{, #5}\fi%
    .%
    \ifx#6\else{\newline{}\begin{minipage}[t]{\linewidth}\small#6\end{minipage}}\fi
    }}%


% Redefine quote 
\definecolor{dark-gray}{gray}{0.30}

\newcommand*{\myquote}[2]{%
   \quote{\small\color{dark-gray}\itshape #1 \\ \footnotesize #2}}

% Hobbies
\newcommand*{\cvhobby}[2]{\cvline{#1}{\small #2}}


% Developer/Contributor footnotes
\usepackage[bottom,norule,symbol*]{footmisc}
\newcommand*{\devnotes}[2]{%
\vfill
\footnotetext[1]{#1}
\footnotetext[2]{#2}
}

\newcommand*{\developer}{\footnotemark[1]}
\newcommand*{\contributor}{\footnotemark[2]}
